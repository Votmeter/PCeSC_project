<!DOCTYPE html>
<html>
	<head>
		<title>Generic - Forty by HTML5 UP</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="/static/assets/css/main.css" />
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"/>
		<noscript><link rel="stylesheet" href="/static/assets/css/noscript.css" /></noscript>
	</head>
<body>

<h1>My First Google Map</h1>

<div id="googleMap" style="width:100%;height:400px;"></div>
<script src="/static/assets/js/jquery.min.js"></script>
<script src="/static/assets/js/jquery.scrolly.min.js"></script>
<script src="/static/assets/js/jquery.scrollex.min.js"></script>
<script src="/static/assets/js/browser.min.js"></script>
<script src="/static/assets/js/breakpoints.min.js"></script>
<script src="/static/assets/js/util.js"></script>
<script src="/static/assets/js/main.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript" >

google.charts.load('current', {'packages': ['map','corechart', 'line'], 'mapsApiKey': 'AIzaSyBIo_qwcuNigphu771JIVFZCrfKarnbhdU'});
google.charts.setOnLoadCallback(myMap);

function myMap() {

var lat = [];
const data= {{data}};
console.log(Object.keys(data).length);
for (let i = 0; i <  (Object.keys(data).length); i++) {
  let gData = new google.maps.LatLng(data[i][0], data[i][1]);
  lat.push(gData);
}

var mapProp= {
  center:new google.maps.LatLng(lat[0]),
  zoom:6,
  showLine: true
};

console.log(lat);
var flightPath = new google.maps.Polyline({
  path: lat,
  strokeColor:"#0000FF",
  strokeOpacity:0.8,
  strokeWeight:2
});
var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
flightPath.setMap(map)
}

</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBIo_qwcuNigphu771JIVFZCrfKarnbhdU&callback=myMap"></script>

</body>
</html>